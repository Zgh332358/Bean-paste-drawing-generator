# MARD色卡功能测试指南

**测试日期**：2025-11-18  
**测试版本**：v1.1  
**开发服务器**：http://localhost:5174/

---

## 测试环境

### 服务器状态
✅ 开发服务器已启动  
✅ 端口：5174  
✅ 无编译错误  
✅ 所有组件类型检查通过

### 测试数据
- MARD 24色标准套装（24种颜色）
- MARD 48色标准套装（48种颜色）
- Artkal 5mm S-Series（30种颜色）

---

## 测试用例

### 测试1：色卡选择器分组显示

**目标**：验证色卡选择器正确显示分组

**步骤**：
1. 打开应用 http://localhost:5174/
2. 查看"参数配置"面板中的"色卡品牌"下拉列表
3. 点击下拉列表展开

**预期结果**：
- ✅ 显示两个分组：
  - "中国市场 - MARD标准 ⭐推荐"
  - "国际标准"
- ✅ MARD分组包含：
  - MARD 24色标准套装 (24色)
  - MARD 48色标准套装 (48色)
- ✅ 国际标准分组包含：
  - Artkal 5mm (S-Series)

**实际结果**：
- [ ] 通过
- [ ] 失败（原因：_______）

---

### 测试2：色卡信息展示

**目标**：验证选择MARD色卡后显示详细信息

**步骤**：
1. 选择"MARD 48色标准套装"
2. 查看下拉列表下方的信息卡片

**预期结果**：
- ✅ 显示蓝色背景的信息卡片
- ✅ 显示描述："中国市场通用标准，品牌兼容性97%，适合Hobbyist用户"
- ✅ 显示兼容性："✓ 品牌兼容性: 97%"
- ✅ 显示详情："颜色数量: 48色 | 拼豆尺寸: 5mm"

**实际结果**：
- [ ] 通过
- [ ] 失败（原因：_______）

---

### 测试3：显示模式选择器

**目标**：验证MARD色卡显示模式选择器

**步骤**：
1. 选择"MARD 48色标准套装"
2. 查看是否出现"编号显示模式"选择器
3. 切换到"Artkal 5mm (S-Series)"
4. 查看显示模式选择器是否消失

**预期结果**：
- ✅ 选择MARD色卡时显示"编号显示模式"选择器
- ✅ 默认选中"标准模式 (MARD 221)"
- ✅ 可选择"简化模式 (221)"
- ✅ 显示说明文字："选择图纸和材料清单中的色号显示格式"
- ✅ 切换到非MARD色卡时，选择器消失

**实际结果**：
- [ ] 通过
- [ ] 失败（原因：_______）

---

### 测试4：图像上传和生成

**目标**：验证基本的图像处理功能

**步骤**：
1. 选择"MARD 48色标准套装"
2. 上传一张测试图片（建议使用简单的图标或logo）
3. 设置尺寸为29x29
4. 点击"生成图纸"按钮

**预期结果**：
- ✅ 图片成功上传并显示预览
- ✅ 显示"处理中..."状态
- ✅ 成功生成图纸
- ✅ 显示材料清单

**实际结果**：
- [ ] 通过
- [ ] 失败（原因：_______）

---

### 测试5：材料清单格式（标准模式）

**目标**：验证材料清单使用标准模式显示MARD色号

**前提**：已完成测试4，生成了图纸

**步骤**：
1. 确保"编号显示模式"选择为"标准模式"
2. 查看材料清单

**预期结果**：
- ✅ 顶部显示色卡信息卡片：
  - "MARD 48色标准套装"
  - "品牌兼容性: 97%"
- ✅ 显示总颗数和颜色种类
- ✅ 每个材料项显示格式为："MARD XXX"
  - 例如："MARD 221"、"MARD 001"
- ✅ 显示中文颜色名称
- ✅ 显示颗数

**实际结果**：
- [ ] 通过
- [ ] 失败（原因：_______）

**截图位置**：_______

---

### 测试6：材料清单格式（简化模式）

**目标**：验证材料清单使用简化模式显示MARD色号

**步骤**：
1. 将"编号显示模式"切换为"简化模式"
2. 查看材料清单变化

**预期结果**：
- ✅ 色号显示格式变为仅数字："221"、"001"
- ✅ 不显示"MARD"前缀
- ✅ 其他信息保持不变
- ✅ 切换流畅，无闪烁

**实际结果**：
- [ ] 通过
- [ ] 失败（原因：_______）

**截图位置**：_______

---

### 测试7：色卡切换

**目标**：验证在不同色卡间切换

**步骤**：
1. 当前使用"MARD 48色标准套装"并已生成图纸
2. 切换到"MARD 24色标准套装"
3. 重新生成图纸
4. 切换到"Artkal 5mm (S-Series)"
5. 重新生成图纸

**预期结果**：
- ✅ 切换到MARD 24色后：
  - 色卡信息更新
  - 显示模式选择器仍然显示
  - 重新生成使用24色色卡
- ✅ 切换到Artkal后：
  - 色卡信息更新
  - 显示模式选择器消失
  - 材料清单显示"S"开头的色号（如"S01"）

**实际结果**：
- [ ] 通过
- [ ] 失败（原因：_______）

---

### 测试8：响应式布局

**目标**：验证在不同屏幕尺寸下的显示

**步骤**：
1. 在桌面浏览器中测试（1920x1080）
2. 调整浏览器窗口到平板尺寸（768x1024）
3. 调整到手机尺寸（375x667）

**预期结果**：
- ✅ 桌面：所有元素正常显示，布局合理
- ✅ 平板：布局自适应，信息完整
- ✅ 手机：垂直布局，可滚动，功能完整

**实际结果**：
- [ ] 通过
- [ ] 失败（原因：_______）

---

### 测试9：边界情况

**目标**：测试各种边界情况

**测试项**：

#### 9.1 空状态
- [ ] 未上传图片时，生成按钮禁用
- [ ] 材料清单不显示

#### 9.2 极端尺寸
- [ ] 最小尺寸10x10可以生成
- [ ] 最大尺寸200x200可以生成
- [ ] 超出范围的输入被限制

#### 9.3 特殊图片
- [ ] 纯色图片（如纯红色）
- [ ] 黑白图片
- [ ] 透明背景PNG

**实际结果**：
- [ ] 全部通过
- [ ] 部分失败（详情：_______）

---

### 测试10：性能测试

**目标**：验证处理性能

**测试场景**：

| 尺寸 | 色卡 | 预期时间 | 实际时间 | 结果 |
|------|------|----------|----------|------|
| 29x29 | MARD 48色 | <2秒 | ___秒 | [ ] |
| 50x50 | MARD 48色 | <5秒 | ___秒 | [ ] |
| 100x100 | MARD 48色 | <10秒 | ___秒 | [ ] |

**实际结果**：
- [ ] 性能符合预期
- [ ] 性能需要优化

---

## 已知问题

### 问题列表

1. **问题描述**：_______
   - 严重程度：[ ] 高 [ ] 中 [ ] 低
   - 复现步骤：_______
   - 预期行为：_______
   - 实际行为：_______

2. **问题描述**：_______
   - 严重程度：[ ] 高 [ ] 中 [ ] 低
   - 复现步骤：_______
   - 预期行为：_______
   - 实际行为：_______

---

## 测试总结

### 测试统计

- 总测试用例：10个
- 通过：___个
- 失败：___个
- 跳过：___个
- 通过率：___%

### 功能完整性

- [ ] 色卡选择器 - 完全可用
- [ ] 色卡信息展示 - 完全可用
- [ ] 显示模式切换 - 完全可用
- [ ] 材料清单格式化 - 完全可用
- [ ] 图纸生成 - 完全可用
- [ ] 响应式布局 - 完全可用

### 质量评估

- 功能完整性：[ ] 优秀 [ ] 良好 [ ] 需改进
- 用户体验：[ ] 优秀 [ ] 良好 [ ] 需改进
- 性能表现：[ ] 优秀 [ ] 良好 [ ] 需改进
- 稳定性：[ ] 优秀 [ ] 良好 [ ] 需改进

### 建议

**必须修复**：
1. _______
2. _______

**建议优化**：
1. _______
2. _______

**未来增强**：
1. _______
2. _______

---

## 测试环境信息

- **浏览器**：_______
- **操作系统**：Windows
- **屏幕分辨率**：_______
- **测试人员**：_______
- **测试日期**：2025-11-18
- **测试时长**：_______

---

## 附录

### 测试图片建议

建议使用以下类型的测试图片：

1. **简单图标**（推荐）
   - 颜色少（3-5种）
   - 边缘清晰
   - 尺寸适中（100-500px）

2. **卡通角色**
   - 颜色丰富
   - 细节适中
   - 适合测试颜色匹配

3. **风景照片**
   - 颜色渐变
   - 测试抖动算法
   - 挑战性高

### 快速测试命令

```bash
# 启动开发服务器
cd pixel-bead-generator
npm run dev

# 运行类型检查
npm run type-check

# 运行构建测试
npm run build
```

### 相关文档

- [MARD集成指南](./MARD-INTEGRATION-GUIDE.md)
- [MARD快速参考](./MARD-QUICK-REFERENCE.md)
- [UI实施报告](./MARD-UI-IMPLEMENTATION.md)

---

**测试状态**：⏳ 待测试  
**最后更新**：2025-11-18
